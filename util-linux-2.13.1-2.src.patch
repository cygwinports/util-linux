diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/Makefile.am src/util-linux-ng-2.13.1/Makefile.am
--- origsrc/util-linux-ng-2.13.1/Makefile.am	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/Makefile.am	2008-01-24 23:21:52.937500000 -0600
@@ -3,12 +3,9 @@
 SUBDIRS = \
 	include \
 	disk-utils \
-	fdisk \
 	getopt \
-	hwclock \
 	login-utils \
 	misc-utils \
-	mount \
         partx \
 	po \
 	schedutils \
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/disk-utils/Makefile.am src/util-linux-ng-2.13.1/disk-utils/Makefile.am
--- origsrc/util-linux-ng-2.13.1/disk-utils/Makefile.am	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/disk-utils/Makefile.am	2008-01-24 23:21:52.953125000 -0600
@@ -1,15 +1,17 @@
 include $(top_srcdir)/config/include-Makefile.am
 
-man_MANS = blockdev.8 fdformat.8 isosize.8 mkfs.8 mkswap.8 \
+man_MANS = isosize.8 mkfs.8 mkswap.8 \
            fsck.minix.8 mkfs.minix.8 mkfs.bfs.8
 
-sbin_PROGRAMS = mkfs mkswap blockdev fsck.minix mkfs.minix mkfs.bfs
+sbin_PROGRAMS = mkfs mkswap fsck.minix mkfs.minix mkfs.bfs
 fsck_minix_SOURCES = fsck.minix.c bitops.h minix.h
 mkfs_minix_SOURCES = mkfs.minix.c bitops.h minix.h
 mkfs_bfs_SOURCES = mkfs.bfs.c
 mkswap_SOURCES = mkswap.c swapheader.h
 
-usrbinexec_PROGRAMS = fdformat isosize
+EXTRA_PROGRAMS = blockdev fdformat
+
+usrbinexec_PROGRAMS = isosize
 
 if BUILD_ELVTUNE
 sbin_PROGRAMS += elvtune
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/login-utils/Makefile.am src/util-linux-ng-2.13.1/login-utils/Makefile.am
--- origsrc/util-linux-ng-2.13.1/login-utils/Makefile.am	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/login-utils/Makefile.am	2008-01-24 23:21:52.953125000 -0600
@@ -130,7 +130,7 @@
 
 endif
 
-noinst_PROGRAMS = checktty_test
+EXTRA_PROGRAMS = checktty_test
 checktty_test_SOURCES = checktty.c login.h
 checktty_test_CPPFLAGS = -DMAIN_TEST_CHECKTTY $(AM_CPPFLAGS)
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/login-utils/agetty.c src/util-linux-ng-2.13.1/login-utils/agetty.c
--- origsrc/util-linux-ng-2.13.1/login-utils/agetty.c	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/login-utils/agetty.c	2008-01-24 23:21:52.953125000 -0600
@@ -36,12 +36,17 @@
 #include "xstrncpy.h"
 #include "nls.h"
 
-#ifdef __linux__
+#if defined __linux__ || defined __CYGWIN__
 #include "pathnames.h"
 #include <sys/param.h>
 #define USE_SYSLOG
 #endif
 
+#ifdef __CYGWIN__
+#include <getaddrinfo.h>
+#define HOST_NAME_MAX 256
+#endif
+
  /* If USE_SYSLOG is undefined all diagnostics go directly to /dev/console. */
 
 #ifdef	USE_SYSLOG
@@ -312,7 +317,7 @@
 
     parse_args(argc, argv, &options);
 
-#ifdef __linux__
+#if defined __linux__ || defined __CYGWIN__
 	setsid();
 #endif
 	
@@ -739,7 +744,7 @@
      * reads will be done in raw mode anyway. Errors will be dealt with
      * lateron.
      */
-#ifdef __linux__
+#if defined __linux__ || defined __CYGWIN__
     /* flush input and output queues, important for modems! */
     (void) ioctl(0, TCFLSH, TCIOFLUSH);
 #endif
@@ -1143,7 +1148,7 @@
     tp->c_cc[VQUIT] = DEF_QUIT;			/* default quit */
     tp->c_cc[VEOF] = DEF_EOF;			/* default EOF character */
     tp->c_cc[VEOL] = DEF_EOL;
-#ifdef __linux__
+#if defined __linux__ || defined __CYGWIN__
     tp->c_cc[VSWTC] = DEF_SWITCH;		/* default switch character */
 #else
     tp->c_cc[VSWTCH] = DEF_SWITCH;		/* default switch character */
@@ -1179,7 +1184,9 @@
 
     if (cp->capslock) {
 	tp->c_iflag |= IUCLC;
+#ifndef __CYGWIN__
 	tp->c_lflag |= XCASE;
+#endif
 	tp->c_oflag |= OLCUC;
     }
     /* Optionally enable hardware flow control */
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/misc-utils/cal.1 src/util-linux-ng-2.13.1/misc-utils/cal.1
--- origsrc/util-linux-ng-2.13.1/misc-utils/cal.1	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/misc-utils/cal.1	2008-01-24 23:21:52.968750000 -0600
@@ -95,7 +95,7 @@
 Several much more elaborate versions of this program exist,
 with support for colors, holidays, birthdays, reminders and
 appointments, etc. For example, try the cal from
-http://home.sprynet.com/~cbagwell/projects.html
+http://www.cnpbagwell.com/Projects/HomePage
 or GNU gcal.
 .Sh AVAILABILITY
 The cal command is part of the util-linux-ng package and is available from
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/misc-utils/script.c src/util-linux-ng-2.13.1/misc-utils/script.c
--- origsrc/util-linux-ng-2.13.1/misc-utils/script.c	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/misc-utils/script.c	2008-01-24 23:21:52.968750000 -0600
@@ -55,7 +55,7 @@
 #include <errno.h>
 #include "nls.h"
 
-#ifdef __linux__
+#if defined __linux__ || defined __CYGWIN__
 #include <unistd.h>
 #include <string.h>
 #endif
@@ -74,6 +74,9 @@
 void doinput(void);
 void dooutput(void);
 void doshell(void);
+#ifdef __CYGWIN__
+void cfmakeraw(struct termios *);
+#endif
 
 char	*shell;
 FILE	*fscript;
@@ -476,6 +479,22 @@
 	(void) tcsetattr(slave, TCSAFLUSH, &tt);
 	(void) ioctl(slave, TIOCSWINSZ, (char *)&win);
 #endif
+#ifdef __CYGWIN__
+	(void) login_tty(slave);
+#else
 	(void) setsid();
 	(void) ioctl(slave, TIOCSCTTY, 0);
+#endif
+}
+
+#ifdef __CYGWIN__
+void cfmakeraw(struct termios *termios_p) {
+
+    termios_p->c_iflag &= ~(IGNBRK|BRKINT|PARMRK|ISTRIP|INLCR|IGNCR|ICRNL|IXON);
+    termios_p->c_oflag &= ~OPOST;
+    termios_p->c_lflag &= ~(ECHO|ECHONL|ICANON|ISIG|IEXTEN);
+    termios_p->c_cflag &= ~(CSIZE|PARENB);
+    termios_p->c_cflag |= CS8;
 }
+#endif
+
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/misc-utils/setterm.c src/util-linux-ng-2.13.1/misc-utils/setterm.c
--- origsrc/util-linux-ng-2.13.1/misc-utils/setterm.c	2008-01-16 03:31:41.000000000 -0600
+++ src/util-linux-ng-2.13.1/misc-utils/setterm.c	2008-01-24 23:21:52.968750000 -0600
@@ -111,20 +111,16 @@
 
 #include <sys/param.h>		/* for MAXPATHLEN */
 #include <sys/ioctl.h>
+#include <sys/termios.h>
 #include <sys/time.h>
 #include "nls.h"
 
-#ifndef TCGETS
-/* TCGETS is either defined in termios.h, or here: */
-#include <asm/ioctls.h>
-#endif
-
 #if __GNU_LIBRARY__ < 5
-#ifndef __alpha__
+#if !defined __alpha__ && !defined __CYGWIN__
 # include <linux/unistd.h>
 #define __NR_klogctl __NR_syslog
 _syscall3(int, klogctl, int, type, char*, buf, int, len);
-#else /* __alpha__ */
+#else /* __alpha__ || __CYGWIN__ */
 #define klogctl syslog
 #endif
 #endif
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/misc-utils/whereis.c src/util-linux-ng-2.13.1/misc-utils/whereis.c
--- origsrc/util-linux-ng-2.13.1/misc-utils/whereis.c	2007-08-13 05:39:46.000000000 -0500
+++ src/util-linux-ng-2.13.1/misc-utils/whereis.c	2008-01-24 23:21:52.984375000 -0600
@@ -38,7 +38,7 @@
  */
 
 #include <sys/param.h>
-#include <sys/dir.h>
+#include <dirent.h>
 #include <sys/stat.h>
 #include <stdio.h>
 #include <stdlib.h>
@@ -318,7 +318,7 @@
 void
 findin(char *dir, char *cp) {
 	DIR *dirp;
-	struct direct *dp;
+	struct dirent *dp;
 	char *d, *dd;
 	int l;
 	char dirbuf[1024];
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/sys-utils/Makefile.am src/util-linux-ng-2.13.1/sys-utils/Makefile.am
--- origsrc/util-linux-ng-2.13.1/sys-utils/Makefile.am	2008-01-16 03:31:42.000000000 -0600
+++ src/util-linux-ng-2.13.1/sys-utils/Makefile.am	2008-01-24 23:26:48.468750000 -0600
@@ -1,20 +1,20 @@
 include $(top_srcdir)/config/include-Makefile.am
 
-bin_PROGRAMS = dmesg
+bin_PROGRAMS = 
 
-usrbinexec_PROGRAMS = cytune flock ipcrm ipcs renice setsid setarch
+usrbinexec_PROGRAMS = renice setsid
 
 cytune_SOURCES = cytune.c cyclades.h
 
-sbin_PROGRAMS = ctrlaltdel
+sbin_PROGRAMS = 
 
-usrsbinexec_PROGRAMS = readprofile tunelp rtcwake
+usrsbinexec_PROGRAMS = 
+
+EXTRA_PROGRAMS = ctrlaltdel cytune dmesg flock ipcrm ipcs readprofile rtcwake setarch tunelp
 
 tunelp_SOURCES = tunelp.c lp.h
 
-man_MANS = flock.1 readprofile.1 \
-	ctrlaltdel.8 cytune.8 dmesg.1 ipcrm.1 ipcs.1 renice.1 \
-	setsid.1 tunelp.8 setarch.8 rtcwake.8
+man_MANS = ipcrm.1 ipcs.1 renice.1 setsid.1
 
 info_TEXINFOS = ipc.texi
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/sys-utils/setsid.c src/util-linux-ng-2.13.1/sys-utils/setsid.c
--- origsrc/util-linux-ng-2.13.1/sys-utils/setsid.c	2007-04-25 07:43:38.000000000 -0500
+++ src/util-linux-ng-2.13.1/sys-utils/setsid.c	2008-01-24 23:21:52.984375000 -0600
@@ -16,6 +16,10 @@
 #include <stdlib.h>
 #include "nls.h"
 
+#ifdef __CYGWIN__
+#include <fcntl.h>
+#endif
+
 int
 main(int argc, char *argv[]) {
 	setlocale(LC_ALL, "");
@@ -42,6 +46,19 @@
 		perror("setsid"); /* cannot happen */
 		exit(1);
 	}
+#ifdef __CYGWIN__
+	int fd;
+	if ((fd = open ("/dev/null", O_RDWR, 0)) >= 0) {
+		if (isatty (STDIN_FILENO))
+			dup2 (fd, STDIN_FILENO);
+		if (isatty (STDOUT_FILENO))
+			dup2 (fd, STDOUT_FILENO);
+		if (isatty (STDERR_FILENO))
+			dup2 (fd, STDERR_FILENO);
+		if (fd > 2)
+			close (fd);
+	}
+#endif
 	execvp(argv[1], argv + 1);
 	perror("execvp");
 	exit(1);
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/tests/helpers/Makefile.am src/util-linux-ng-2.13.1/tests/helpers/Makefile.am
--- origsrc/util-linux-ng-2.13.1/tests/helpers/Makefile.am	2008-01-16 03:31:42.000000000 -0600
+++ src/util-linux-ng-2.13.1/tests/helpers/Makefile.am	2008-01-24 23:21:52.984375000 -0600
@@ -1,5 +1,5 @@
 include $(top_srcdir)/config/include-Makefile.am
 
-noinst_PROGRAMS = mnt_test_sysinfo
+check_PROGRAMS = mnt_test_sysinfo
 mnt_test_sysinfo_SOURCES = mnt_test_sysinfo.c
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/text-utils/column.c src/util-linux-ng-2.13.1/text-utils/column.c
--- origsrc/util-linux-ng-2.13.1/text-utils/column.c	2008-01-16 03:31:42.000000000 -0600
+++ src/util-linux-ng-2.13.1/text-utils/column.c	2008-01-24 23:21:53.015625000 -0600
@@ -40,6 +40,8 @@
 
 #include <sys/types.h>
 #include <sys/ioctl.h>
+#include <sys/syslimits.h>
+#include <sys/termios.h>
 
 #include <ctype.h>
 #include <limits.h>
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/text-utils/display.c src/util-linux-ng-2.13.1/text-utils/display.c
--- origsrc/util-linux-ng-2.13.1/text-utils/display.c	2007-04-25 07:43:38.000000000 -0500
+++ src/util-linux-ng-2.13.1/text-utils/display.c	2008-01-24 23:21:53.015625000 -0600
@@ -41,6 +41,11 @@
 #include <string.h>
 #include "hexdump.h"
 
+#ifdef __CYGWIN__
+typedef long long int quad_t;
+typedef long long unsigned u_quad_t;
+#endif
+
 static void doskip(const char *, int);
 static u_char *get(void);
 
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/text-utils/more.c src/util-linux-ng-2.13.1/text-utils/more.c
--- origsrc/util-linux-ng-2.13.1/text-utils/more.c	2008-01-16 03:31:42.000000000 -0600
+++ src/util-linux-ng-2.13.1/text-utils/more.c	2008-01-24 23:21:53.031250000 -0600
@@ -59,9 +59,14 @@
 #include "nls.h"
 #include "widechar.h"
 
+#ifdef __CYGWIN__
+#include <pcre.h>
+#define OVECCOUNT 30    /* should be a multiple of 3 */
+#else
 #define _REGEX_RE_COMP
 #include <regex.h>
 #undef _REGEX_RE_COMP
+#endif
 
 #define VI		"vi"	/* found on the user's path */
 
@@ -164,6 +169,9 @@
     long chrctr, line;
 } context, screen_start;
 extern char	PC;		/* pad character */
+#ifdef __CYGWIN__
+pcre *re;
+#endif
 
 #ifdef HAVE_NCURSES_H
 # include <ncurses.h>
@@ -547,7 +555,7 @@
 	if (fread(twobytes, 2, 1, f) == 1) {
 		switch(twobytes[0] + (twobytes[1]<<8)) {
 		case OMAGIC:	/* 0407 */
-		case NMAGIC:	/* 0410 */
+		case 0410:
 		case ZMAGIC:	/* 0413 */
 		case 0405:
 		case 0411:
@@ -1520,20 +1528,37 @@
     register long line3 = startline;
     register int lncount;
     int saveln, rv;
+#ifdef __CYGWIN__
+    const char *errorx;
+    int erroffset;
+    int ovector[OVECCOUNT];
+#else
     char *s;
+#endif
 
     context.line = saveln = Currline;
     context.chrctr = startline;
     lncount = 0;
+#ifdef __CYGWIN__
+    if ( buf )
+      re = pcre_compile(buf, 0, &errorx, &erroffset, NULL);
+    if ( re == NULL )
+      error (errorx);
+#else
     if ((s = re_comp (buf)) != 0)
 	error (s);
+#endif
     while (!feof (file)) {
 	line3 = line2;
 	line2 = line1;
 	line1 = Ftell (file);
 	rdline (file);
 	lncount++;
+#ifdef __CYGWIN__
+	if (rv = pcre_exec (re, NULL, Line, (int)strlen(Line), 0, 0, ovector, OVECCOUNT) == 1 ) {
+#else
 	if ((rv = re_exec (Line)) == 1) {
+#endif
 		if (--n == 0) {
 		    if (lncount > 3 || (lncount > 1 && no_intty))
 		    {
@@ -1573,7 +1598,7 @@
     }
     if (feof (file)) {
 	if (!no_intty) {
-#ifndef __linux__
+#if !defined __linux__ && !defined __CYGWIN__
 				/* No longer in libc 4.5.8. . . */
 	    file->_flags &= ~STDIO_S_EOF_SEEN; /* why doesn't fseek do this ??!!??! */
 #endif
diff -urN -x CYGWIN-PATCHES -x 'aclocal.m4*' -x autom4te.cache -x config.cache -x config.log -x config.status -x config.h -x config.h.in -x ABOUT-NLS -x Makefile.in.in -x Makevars.template -x '*SlackBuild*' -x '*.egg-info' -x '*.class' -x '*.pyc' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x COPYING -x INSTALL -x compile -x config-ml.in -x config.guess -x config.sub -x depcomp -x elisp-comp -x install-sh -x ltmain.sh -x mdate-sh -x missing -x mkinstalldirs -x py-compile -x symlink-tree -x texinfo.tex -x ylwrap -x config.rpath -x Makefile.in -x makefile.in -x configure -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x intltool.m4 -x intltool-extract -x intltool-extract.in -x intltool-merge -x intltool-merge.in -x intltool-update -x intltool-update.in -x m4 origsrc/util-linux-ng-2.13.1/text-utils/pg.c src/util-linux-ng-2.13.1/text-utils/pg.c
--- origsrc/util-linux-ng-2.13.1/text-utils/pg.c	2007-10-25 18:22:59.000000000 -0500
+++ src/util-linux-ng-2.13.1/text-utils/pg.c	2008-01-24 23:21:53.031250000 -0600
@@ -37,6 +37,7 @@
 #ifndef	TIOCGWINSZ
 #include <sys/ioctl.h>
 #endif
+#include <sys/syslimits.h>
 #include <sys/termios.h>
 #include <fcntl.h>
 #include <regex.h>
